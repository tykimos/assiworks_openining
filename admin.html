<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AssiWorks 관리자</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body data-page="admin">
    <main class="admin-page">
      <section id="admin-login-view" class="admin-login-card">
        <p class="eyebrow">Admin Console</p>
        <h1>등록 현황 관리</h1>
        <p>관리 비밀번호를 입력하면 대시보드와 참가자 조회 메뉴를 확인할 수 있습니다.</p>

        <form id="admin-auth-form" class="admin-auth">
          <div class="field">
            <label for="admin-password">관리 비밀번호</label>
            <input id="admin-password" name="password" type="password" autocomplete="current-password" required />
          </div>
          <button class="primary" type="submit">입장</button>
        </form>
        <p id="admin-status" class="admin-status" role="status" aria-live="polite"></p>
      </section>

      <section id="admin-dashboard-view" class="admin-dashboard" hidden>
        <aside class="admin-sidebar">
          <p class="eyebrow">Admin Menu</p>
          <h2>운영 대시보드</h2>
          <nav class="admin-sidebar-menu" aria-label="관리 메뉴">
            <button type="button" class="sidebar-menu-btn is-active" data-view-target="analytics">대시보드</button>
            <button type="button" class="sidebar-menu-btn" data-view-target="registrations">등록 조회</button>
          </nav>
        </aside>

        <section class="admin-content">
          <header class="admin-toolbar">
            <div>
              <h3>등록 데이터 운영</h3>
              <p id="admin-dashboard-status" class="admin-dashboard-status">데이터를 준비 중입니다.</p>
            </div>
            <div class="admin-toolbar-actions">
              <button id="admin-refresh-btn" class="secondary admin-btn-secondary" type="button">새로고침</button>
              <button id="admin-logout-btn" class="secondary admin-btn-secondary" type="button">로그아웃</button>
            </div>
          </header>

          <section id="admin-view-analytics" class="admin-view is-active">
            <div class="admin-analytics-grid">
              <article class="admin-card">
                <h4>최근 7일 등록 추이</h4>
                <div id="chart-daily" class="mini-chart" aria-label="일자별 등록 추이"></div>
              </article>
              <article class="admin-card">
                <h4>소속별 등록 Top 5</h4>
                <div id="chart-company" class="mini-chart"></div>
              </article>
            </div>
            <article class="admin-card">
              <h4>상태 비율</h4>
              <div id="status-breakdown" class="status-breakdown"></div>
            </article>

            <div class="admin-stats-grid admin-stats-grid-after-chart">
              <article class="admin-stat-card">
                <p>총 등록</p>
                <strong id="stat-total">0</strong>
              </article>
              <article class="admin-stat-card">
                <p>정상 상태</p>
                <strong id="stat-active">0</strong>
              </article>
              <article class="admin-stat-card">
                <p>취소 상태</p>
                <strong id="stat-cancelled">0</strong>
              </article>
              <article class="admin-stat-card">
                <p>오늘 등록</p>
                <strong id="stat-today">0</strong>
              </article>
            </div>

            <article class="admin-card">
              <h4>최근 등록 5건</h4>
              <ul id="admin-recent-list" class="admin-recent-list">
                <li>데이터가 없습니다.</li>
              </ul>
            </article>
          </section>

          <section id="admin-view-registrations" class="admin-view">
            <article class="admin-card">
              <h4>참가자 조회</h4>
              <div class="admin-filters">
                <input id="admin-search" type="text" placeholder="이름 / 이메일 / 소속 / 직위 검색" />
                <select id="admin-filter-status" aria-label="상태 필터">
                  <option value="all">전체 상태</option>
                  <option value="active">정상</option>
                  <option value="cancelled">취소됨</option>
                </select>
              </div>
              <div class="admin-table-actions">
                <label class="admin-select-all">
                  <input id="admin-select-all" type="checkbox" />
                  <span>전체 선택</span>
                </label>
                <button id="admin-bulk-delete-btn" type="button" class="admin-delete admin-delete-bulk" disabled>
                  선택 삭제
                </button>
              </div>
              <div class="admin-table-wrap">
                <table class="admin-table">
                  <thead>
                    <tr>
                      <th aria-label="선택"></th>
                      <th>이름</th>
                      <th>이메일</th>
                      <th>소속</th>
                      <th>직위</th>
                      <th>의견</th>
                      <th>등록일시</th>
                      <th>취소일시</th>
                      <th>상태</th>
                      <th>관리</th>
                    </tr>
                  </thead>
                  <tbody id="admin-rows">
                    <tr>
                      <td colspan="10">비밀번호를 입력하고 입장해주세요.</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </article>
          </section>
        </section>
      </section>
    </main>

    <script src="admin.js"></script>
  </body>
</html>
